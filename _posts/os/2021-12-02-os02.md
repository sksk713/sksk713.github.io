---
layout: post
title: 02.컴퓨터의 구조와 성능 향상
author: "SangKyeong Lee"
tags: Operating-System
---

# 하드웨어의 구성
---
컴퓨터는 CPU, 메인메모리, 입/출력장치, 저장장치로 구성된다. 여기서 CPU와 메인메모리는 필수장치로 분류되고, 그 외에는 주변장치로 분류된다.

메인메모리는 전력이 끊기면 데이터를 잃어버리며, 영구히 보관하기 위해 하드디스크나 usb메모리를 사용해야 한다. 여기서 메인메모리를 제1저장장치, 하드디스크나 usb메모리를 제2저장장치 또는 보보저장장치라고 부른다.

## CPU와 메모리
CPU는 명령어를 해석하는 장치이고 두뇌에 해당한다. 메모리는 작업에 필요한 프로그램과 데이터를 저장하는 장소며, 바이트 단위로 분할되어 있으며 분할 공간마다 주소로 구분한다.

## 메인보드
컴퓨터의 다양한 장치들이 버스로 연결된다. 메인보드는 CPU와 메모리 등 다양한 부품을 연결하는 커다란 판이다. 메인보드에는 버스가 복잡하게 얽혀 있다.

<br>

# 폰노이만 구조
---
오늘날의 컴퓨터는 대부분 폰노이만 구조를 따른다. 폰노이만 구조는 CPU, 메모리, 입출력장치, 저장장치가 버스로 연결되어 있는 구조를 말한다.

> 가장 중요한 특징은 ```모든 프로그램은 메모리에 올라와야 실행할 수 있다.```는 것이다.

![06](/assets/os/06.png)

<br>

# 주요 하드웨어 용어
---
클록
- CPU의 속도와 관련된 단위로, 클록이 일정 간격으로 틱을 만들면 거기에 맞추어 CPU안의 모든 구성 부품이 작업을 한다. 틱을 발생할 때마다, 데이터를 보내거나 받게 된다.

헤르츠
- 헤르츠는 틱이 발생하는 속도를 나타내는 단위로, 1초에 몇번 발생하는지를 나타낸다. i7이 1초에 34억번의 연산을 수행한다.

시스템 버스, CPU 내부 버스
- 시스템 버스는 메모리와 주변장치를 연결하는 버스고, CPU 내부 버스는 CPU 내부에 장치를 연결하는 버스이며 CPU 내부 버스의 속도가 훨씬 빠르다.

<br>

# CPU와 메모리
---
CPU는 산술논리 연산장치, 제어장치, 레지스터로 구성된다.

## 산술논리 연산장치
ALU(Arithmetic and Logic Unit)이라고 부른다.

## 제어장치
CPU에서 작업을 지시하는 부분을 제어장치(Control Unit)이라고 한다.

## 레지스터
CPU 내에서 데이터를 임시로 보관하는 곳을 레지스터라고 한다.

CPU에서 명령어를 처리하는 과정을 살펴보자.

![07](/assets/os/07.png)

> CPU는 메모리에서 데이터를 가져와서 레지스터에 저장을 한다.

![08](/assets/os/08.png)

<br>

# 레저스터의 종류
---
CPU는 필요한 데이터를 메모리에서 가져와 레지스터에 저장한 후, 산술논리 연산장치를 이용해 연산을 한 후, 그 결과를 다시 레지스터에 저장했다가 메모리로 옮긴다.

이 때, 사용되는 레지스터는 데이터 레지스터와 주소 레지스터이며, 두 레지스터 모두 사용자에 의해 변경되기 때문에 사용자 가시 레지스터(user-visible register)라고 부른다.

## 데이터 레지스터(DR)
데이터 레지스터는 메모리에서 가져온 데이터를 임시로 보관할 때 사용한다.

## 주소 레지스터(AR)
데이터 또는 명령어가 저장된 메모리의 주소는 주소 레지스터에 저장된다.

그 외에 특별한 용도로 사용되는 레지스터들이 있는데 이것을 특수 레지스터라고 한다. 이 레지스터들은 사용자가 변경할 수 없기 때문에 사용자 불가 레지스터(user-invisible register)라고 부른다.

## 프로그램 카운터(PC)
CPU는 다음에 처리할 명령어를 알아야 한다. 프로그램 카운터는 다음에 실행할 명령어의 주소를 기억하고 있다가 제어장치에 알려준다.

## 명령어 레지스터(IR)
명령어 레지스터는 현재 실행 중인 명령어를 저장한다.

## 메모리 주소 레지스터(MAR)
메모리 주소 레지스터는 메모리에서 데이터를 가져오거나 반대로 메모리로 데이터를 보낼 때 주소를 지정하기 위해 사용한다.

## 메모리 버퍼 레지스터(MBR)
메모리 버퍼 레지스터는 메모리에서 가져온 데이터나 메모리로 옮겨 갈 데이터를 임시로 저장한다. MBR은 MAR과 항상 함께 동작한다.

![09](/assets/os/09.png)

<br>

# 버스의 종류
---
버스는 CPU와 메모리, 주변장치 간에 데이터를 주고받을 때 사용한다. 버스에는 다음 작업을 지시하는 제어 신호, 메모리의 위치 정보를 알려주는 주소, 처리할 데이터가 오간다.

![10](/assets/os/10.png)

제어 버스
- 제어 버스는 다음에 어떤 작업을 할지 지시하는 제어신호가 오고 간다.

주소 버스
- 주소 버스에서는 메모리의 데이터를 읽거나 쓸 때 어느 위치에서 작업할 것인지를 알려주는 위치 정보가 오고 간다.

데이터 버스
- 제어 버스가 다음에 어떤 작업을 할지 신호를 보내고 주소 버스가 위치 정보를 전달하면 데이터가 데이터 버스에 실력 목적지까지 이동한다.

<br>

# 메모리의 종류
---
휘발성 메모리
- DRAM(동적 램)과 SRAM(정적 램)이 있으며, DRAM은 일정 시간이 지나면 사라지므로 일정 시간마다 다시 재생시켜야 하고, SRAM은 전력이 공급되는 동안에는 데이터를 보관할 수 있어 재생할 필요가 없다.

> DRAM은 메인 메모리에, 캐시같은 고속 메모리에는 SRAM을 사용한다.

비휘발성 메모리
- 플래시 메모리, FRAM, PRAM 등이 있으며 전력이 없어도 데이터를 보관하는 저장장치로 많이 사용된다. SSD도 비휘발성 메모리를 사용한다.